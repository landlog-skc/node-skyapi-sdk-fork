openapi: 3.0.1
info:
  title: SkyAPI
  version: 2.0.0
  description: Management layer on top of AWS and Processing Pipeline
  termsOfService: 'https://skycatch.com/terms/'
  contact:
    url: 'https://skycatch.com/contacts/'
    email: api@skycatch.com
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
externalDocs:
  url: 'https://docs.skycatch.com/v2.0.0/reference'
  description: SkyAPI Documentation
servers:
  - url: 'https://{environment}.skycatch.com/v2'
    variables:
      environment:
        description: The environment you are building the API for
        enum:
          - api
          - staging-api
        default: api
  - url: 'https://{tenant}.auth0.com/oauth/token'
    variables:
      tenant:
        description: The Auth0 tenant
        enum:
          - skycatch-development
          - skycatch-staging
          - skycatch-production
        default: skycatch-development
components:
  securitySchemes:
    auth0:
      name: auth0
      type: oauth2
      description: Used by organization apps
      flows:
        clientCredentials:
          tokenUrl: 'https://{tenant}.auth0.com/oauth/token'
          scopes: {}
paths:
  /ccrs/localization:
    post:
      tags:
        - ccrs
        - localizations
      summary: Creates a transform matrix for CCRS localization
      description: >-
        Parses a localization file to create a new transform matrix to be used
        in a compound coordinate reference system (CCRS)
      operationId: createCCRSLocalization
      parameters:
        - name: version
          in: query
          description: >-
            The version of the localization library to use when calculating the
            transform matrix
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - file
              additionalProperties: false
              type: object
              properties:
                file:
                  type: string
                  description: Localization data as base64 encoded binary
                units:
                  type: string
              description: Unit of measure
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        required:
                          - matrix
                          - controlPoints
                          - version
                        additionalProperties: false
                        type: object
                        properties:
                          version:
                            type: number
                            description: >-
                              The version of the localization library used when
                              calculating the transform matrix
                          controlPoints:
                            type: array
                            items:
                              type: object
                          matrix:
                            type: object
                            required:
                              - multi
                              - proj4
                              - center
                              - unitName
                              - unitAbbrv
                              - utm2local
                              - local2utm
                              - utmZone
                            additionalProperties: false
                            properties:
                              multi:
                                type: boolean
                              proj4:
                                type: string
                              center:
                                type: object
                              unitName:
                                type: string
                              unitAbbrv:
                                type: string
                              utm2local:
                                type: array
                                minItems: 4
                                maxItems: 4
                                items: &ref_0
                                  type: array
                                  minItems: 4
                                  maxItems: 4
                                  items:
                                    type: number
                              local2utm:
                                type: array
                                minItems: 4
                                maxItems: 4
                                items: *ref_0
                              utmZone:
                                type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_1
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_1
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_1
  /credentials/filemanager:
    post:
      tags:
        - credentials
      summary: Create STS credentials for use in S3 File Manager
      description: Create STS credentials for use in S3 File Manager
      operationId: createFileManagerCredentials
      security:
        - auth0: []
      parameters:
        - name: authorization
          in: header
          description: Organization's access token
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                site:
                  type: string
                  description: Site ID
                dataset:
                  type: string
                  description: Dataset ID associated with this Site
                processing:
                  type: string
                  description: Processing Job ID associated with this Dataset
                designfile:
                  oneOf:
                    - type: string
                      description: Design File ID associated with this Site
                    - type: array
                      description: List of Design Files associated with this Site
                      items:
                        type: string
                        description: Design File ID
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - accessKeyId
                          - secretAccessKey
                          - sessionToken
                          - expiration
                        additionalProperties: false
                        properties:
                          accessKeyId:
                            type: string
                          secretAccessKey:
                            type: string
                          sessionToken:
                            type: string
                          expiration:
                            type: string
                  - type: object
                    required:
                      - buckets
                    properties:
                      buckets:
                        type: array
                        description: Meta data about the granted bucket access
                        items:
                          type: object
                          required:
                            - type
                            - bucket
                            - prefix
                            - access
                          additionalProperties: false
                          properties:
                            type:
                              type: string
                            bucket:
                              type: string
                            prefix:
                              type: string
                            access:
                              type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_2
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_2
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_2
  /datasets:
    post:
      tags:
        - datasets
      summary: Creates a dataset
      description: Creates a new dataset in the customer's account
      operationId: createDataset
      security:
        - auth0: []
      parameters:
        - name: authorization
          in: header
          description: Organization's access token
          required: true
          schema:
            type: string
        - name: token
          in: query
          description: User access token
          required: false
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - name
              properties:
                name:
                  type: string
                  description: Dataset name
                sourceId:
                  type: string
                  description: ' The source ID in the app creating the dataset. If passed in it will be used as the name for the s3 object dir in place of the DUUID. '
                type:
                  type: string
                  description: The dataset type
                  enum:
                    - photogrammetry
                    - designfiles
                    - flight1
                    - edge1
                  default: photogrammetry
                metadata:
                  type: object
                  description: Metadata about the dataset
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - id
                          - uuid
                          - name
                          - createdAt
                        additionalProperties: false
                        properties:
                          id:
                            type: string
                          uuid:
                            type: string
                          name:
                            type: string
                          sourceId:
                            type: string
                          type:
                            type: string
                          metadata:
                            type: object
                          createdAt:
                            type: string
                            format: date-time
                          userId:
                            type: string
                          owner:
                            type: string
                  - type: object
                    properties:
                      credentials:
                        type: object
                        required:
                          - accessKeyId
                          - secretAccessKey
                          - sessionToken
                          - expiration
                          - bucket
                        additionalProperties: false
                        properties:
                          accessKeyId:
                            type: string
                          secretAccessKey:
                            type: string
                          sessionToken:
                            type: string
                          expiration:
                            type: string
                          bucket:
                            type: string
                            description: Bucket name
                          key:
                            type: string
                            description: Processing job UUID
        '400':
          description: Bad request
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema: &ref_3
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          content: {}
        5XX:
          description: Server error
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema: *ref_3
  '/datasets/{uuid}':
    get:
      tags:
        - dataset
      summary: Get a dataset
      description: Get a dataset by id from the customer's account
      operationId: getDataset
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Dataset identifier
          required: true
          schema:
            type: string
        - name: exif
          in: query
          description: Fetch additional EXIF information for RAW photos in this dataset.
          required: false
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        required:
                          - uuid
                          - name
                          - createdAt
                        additionalProperties: false
                        type: object
                        properties:
                          uuid:
                            type: string
                            description: Dataset Identifier
                          name:
                            type: string
                            description: Dataset name
                          type:
                            type: string
                            description: Dataset type
                          userId:
                            type: string
                            description: Dataset owner identifier
                          owner:
                            type: string
                            description: Dataset owner
                          sourceId:
                            type: string
                            description: Application specific identifier
                          metadata:
                            type: object
                            description: Dataset specific metadata
                          createdAt:
                            type: string
                            format: date-time
                      exif:
                        type: array
                        description: Array of RAW Photo EXIF metadata
                        items:
                          type: object
                          additionalProperties: false
                          description: RAW Photo EXIF Metadata
                          properties:
                            name:
                              type: string
                              description: Photo filename
                            id:
                              type: string
                              description: Photo identifier
                            height:
                              type: number
                              description: Photo altitude from Drone
                            lat:
                              type: number
                              description: Photo latitude
                            lon:
                              type: number
                              description: Photo longitude
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_4
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_4
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_4
  '/datasets/{uuid}/photos/{id}':
    get:
      tags:
        - datasets
        - photos
      summary: Get Photo Metadata
      description: Get Metadata for a RAW Drone Photo in a customer's account
      operationId: getDatasetPhoto
      security:
        - auth0: []
      parameters:
        - name: authorization
          in: header
          description: M2M access token
          required: true
          schema:
            type: string
        - name: uuid
          in: path
          description: The dataset identifier
          required: true
          schema:
            type: string
        - name: id
          in: path
          description: The photo identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        required:
                          - exif
                          - metadata
                          - photo
                        additionalProperties: false
                        type: object
                        properties:
                          exif:
                            type: object
                            required:
                              - name
                              - id
                              - height
                              - lat
                              - lon
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Photo filename
                              id:
                                type: string
                                description: Photo identifier
                              height:
                                type: number
                                description: Photo altitude from Drone
                              lat:
                                type: number
                                description: Photo latitude
                              lon:
                                type: number
                                description: Photo longitude
                          metadata:
                            type: object
                            required:
                              - eTag
                              - contentLength
                              - contentType
                              - lastModified
                              - custom
                            properties:
                              eTag:
                                type: string
                                description: ETag for this resource
                              contentLength:
                                type: number
                                description: Size of the body in bytes
                              contentType:
                                type: string
                                description: >-
                                  A standard MIME type describing the format of
                                  the object data
                              lastModified:
                                type: string
                                description: Last modified date of the object
                              custom:
                                type: object
                                description: >-
                                  A map of custom metadata stored with the
                                  object in S3
                          photo:
                            type: object
                            required:
                              - url
                              - expires
                            additionalProperties: false
                            properties:
                              url:
                                type: string
                                description: The signed Cloudfront URL
                              expires:
                                type: number
                                description: URL expiry timestamp
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_5
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_5
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_5
  '/datasets/{uuid}/processes':
    get:
      tags:
        - processing_job
      summary: Gets a list of jobs
      description: Gets a list of jobs
      operationId: listProcessingJobs
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Dataset ID
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - next
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      next:
                        type: string
                        description: Link to next set of items
                      type:
                        type: string
                        description: Response item data type
                      data:
                        type: array
                        description: List of items
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          required:
                            - datasetId
                            - state
                            - stateCode
                            - stage
                            - createdAt
                            - updatedAt
                          additionalProperties: false
                          properties:
                            id:
                              type: string
                            uuid:
                              type: string
                            owner:
                              type: string
                            userId:
                              type: string
                            datasetId:
                              type: string
                            state:
                              type: string
                            stateCode:
                              type: integer
                            statusCode:
                              type: integer
                            stage:
                              type: string
                            timeRemaining:
                              type: number
                            percentComplete:
                              type: number
                            createdAt:
                              type: string
                            updatedAt:
                              type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_6
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_6
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_6
    post:
      tags:
        - processing_job
      summary: Start processing a dataset
      description: Initiates the processing of images or a point cloud in the dataset
      operationId: createProcessingJob
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Dataset ID
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                dryrun:
                  type: boolean
                  description: Create processing job entry without starting the job
                type:
                  type: string
                  description: Type of process to run
                  enum:
                    - images
                    - pointCloud
                    - publish
                  default: images
                ccrs:
                  type: object
                  description: >-
                    The definition of the custom coordinate reference system
                    used to generate outputs and parse inputs
                  properties:
                    output:
                      type: object
                      description: Input Parameters
                    input:
                      type: object
                      description: Output Parameters
                    transform:
                      type: object
                      description: Matrix Schema
                options:
                  type: object
                  description: Option flags to trigger custom behavior
                containerName:
                  type: string
                  description: Name of the partner storage container to sync back
                prefix:
                  type: string
                  description: Prefix for the partner storage container to sync back
                pointCloudColumnOrder:
                  type: string
                  description: >-
                    The column order of a point cloud. Only used for TXT point
                    clouds
                connectionString:
                  type: string
                  description: >-
                    Container string required to identify the repository source.
                    This is only needed for syncing
                resourceOwnerId:
                  type: string
                  description: Description
                accessToken:
                  type: string
                  description: Description
                refreshToken:
                  type: string
                  description: Description
                syncType:
                  type: string
                  description: Description
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - id
                          - datasetId
                          - createdAt
                          - statusCode
                          - stage
                          - state
                          - stateCode
                        additionalProperties: false
                        properties:
                          id:
                            type: string
                          datasetId:
                            type: string
                          syncId:
                            type: string
                          userId:
                            type: string
                          owner:
                            type: string
                          createdAt:
                            type: string
                            format: date-time
                          updatedAt:
                            type: string
                            format: date-time
                          statusCode:
                            type: integer
                          stage:
                            type: string
                          timeRemaining:
                            type: string
                          percentComplete:
                            type: string
                          state:
                            type: string
                          stateCode:
                            type: integer
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_7
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_7
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_7
  '/designfiles/{uuid}':
    get:
      tags:
        - dataset
        - design files
      summary: Gets design files
      description: Retrieves processed design files for a dataset
      operationId: getDesignFiles
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Designfile identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        required:
                          - uuid
                          - state
                          - stateCode
                          - input
                          - output
                        additionalProperties: false
                        type: object
                        properties:
                          uuid:
                            type: string
                            description: The designfile job identifier
                          state:
                            type: string
                            description: The current state of the job
                          stateCode:
                            type: number
                            description: The current stateCode of the job
                          input:
                            type: array
                            items:
                              type: object
                          output:
                            type: array
                            items:
                              type: object
        '400':
          description: Bad request
          headers:
            Access-Control-Allow-Headers:
              schema:
                type: string
              description: Access Control Allow Headers
            Access-Control-Allow-Origin:
              schema:
                type: string
              description: Access Control Allow Origin
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema: &ref_8
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '403':
          description: Forbidden
          headers:
            Access-Control-Allow-Headers:
              schema:
                type: string
              description: Access Control Allow Headers
            Access-Control-Allow-Origin:
              schema:
                type: string
              description: Access Control Allow Origin
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema: *ref_8
        '404':
          description: Not found
          headers:
            Access-Control-Allow-Headers:
              schema:
                type: string
              description: Access Control Allow Headers
            Access-Control-Allow-Origin:
              schema:
                type: string
              description: Access Control Allow Origin
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema: *ref_8
        5XX:
          description: Server error
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema: *ref_8
  /geoids:
    get:
      tags:
        - geoids
      summary: Get a list of known geoids for a specific location (lat/lon)
      description: Get a list of known geoids for a specific location (lat/lon)
      operationId: getGeoids
      parameters:
        - name: lon
          in: query
          description: Longitude
          required: false
          schema:
            type: number
            nullable: true
        - name: lat
          in: query
          description: Latitude
          required: false
          schema:
            type: number
            nullable: true
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - next
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      next:
                        type: string
                        description: Link to next set of items
                      type:
                        type: string
                        description: Response item data type
                      data:
                        type: array
                        description: List of items
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: array
                        description: An array of matching Geoids
                        items:
                          type: object
                          description: A Geoid object
                          properties:
                            models:
                              type: array
                              items:
                                type: object
                                properties:
                                  name:
                                    type: string
                                  cols:
                                    type: number
                                  maxlat:
                                    type: number
                                  maxlon:
                                    type: number
                                  minlat:
                                    type: number
                                  minlon:
                                    type: number
                                  rows:
                                    type: number
                                  spacingLat:
                                    type: number
                                  spacingLon:
                                    type: number
        '400':
          description: Bad request
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema: &ref_9
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        5XX:
          description: Server error
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema: *ref_9
  '/geoids/{id}/height':
    get:
      tags:
        - something
      summary: Something
      description: Something
      operationId: getGeoidsHeight
      parameters:
        - name: id
          in: path
          description: Geoid
          required: true
          schema:
            type: string
        - name: lat
          in: query
          description: Latitude
          required: true
          schema:
            type: number
        - name: lon
          in: query
          description: Longtitude
          required: true
          schema:
            type: number
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - lat
                          - lon
                          - geoidHeight
                          - geoid
                        additionalProperties: false
                        properties:
                          lat:
                            type: number
                          lon:
                            type: number
                          geoidHeight:
                            type: number
                          geoid:
                            type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_10
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_10
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_10
  '/processes/{uuid}/result':
    get:
      tags:
        - dataset
      summary: List Processing Job Results
      description: List Processing Job Results
      operationId: getProcessingResults
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Processing Job ID
          required: false
          schema:
            type: string
        - name: layers
          in: query
          description: Toggle layers in response object
          required: false
          schema:
            type: boolean
        - name: exportTypes
          in: query
          description: Export Types
          required: false
          schema:
            type: array
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        additionalProperties: false
                        properties:
                          files:
                            type: array
                            items:
                              type: object
                              additionalProperties: false
                              properties:
                                key:
                                  type: string
                                  description: File path
                                name:
                                  type: string
                                  description: File name
                                type:
                                  type: string
                                resolution:
                                  type: string
                                projection:
                                  type: string
                                bucket:
                                  type: string
                                url:
                                  type: string
                                expires:
                                  type: number
                                size:
                                  type: number
                                lastModified:
                                  type: string
                                storageClass:
                                  type: string
                                eTag:
                                  type: string
                          layers:
                            type: array
                            items:
                              type: object
                              additionalProperties: false
                              properties:
                                type:
                                  type: string
                                bucket:
                                  type: string
                                path:
                                  type: string
                                url:
                                  type: string
                                expires:
                                  type: number
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_11
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_11
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_11
  /projections:
    get:
      tags:
        - projections
      summary: Get a list of known projections for a specific location (lat/lon)
      description: Get a list of known projections for a specific location (lat/lon)
      operationId: getProjections
      parameters:
        - name: lon
          in: query
          description: Longitude
          required: false
          schema:
            type: number
            nullable: true
        - name: lat
          in: query
          description: Latitude
          required: false
          schema:
            type: number
            nullable: true
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        additionalProperties:
                          type: object
                          required:
                            - id
                            - name
                            - proj4
                            - bbox
                            - datum
                          additionalProperties: false
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                            proj4:
                              type: string
                            bbox:
                              type: array
                            units:
                              type: string
                            datum:
                              type: object
                              additionalProperties: false
                              properties:
                                name:
                                  type: string
                                  nullable: true
                                code:
                                  type: string
                                  nullable: true
                                ellps:
                                  type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_12
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_12
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_12
